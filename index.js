var UM=Object.create;var{getPrototypeOf:XM,defineProperty:dw,getOwnPropertyNames:ZM}=Object;var zM=Object.prototype.hasOwnProperty;var qM=($,D,Y)=>{Y=$!=null?UM(XM($)):{};let V=D||!$||!$.__esModule?dw(Y,"default",{value:$,enumerable:!0}):Y;for(let I of ZM($))if(!zM.call(V,I))dw(V,I,{get:()=>$[I],enumerable:!0});return V};var NM=($,D)=>()=>(D||$((D={exports:{}}).exports,D),D.exports);var vw=NM((Ew,Gw)=>{(function($,D){if(typeof Ew=="object"&&typeof Gw<"u")Gw.exports=D();else if(typeof define=="function"&&define.amd)define("marked",D);else $.marked=D()})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Ew,function(){var $={},D=$,Y={exports:$},V=Object.defineProperty,I=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,ww=(T,w)=>{for(var F in w)V(T,F,{get:w[F],enumerable:!0})},h=(T,w,F,L)=>{if(w&&typeof w=="object"||typeof w=="function")for(let M of e(w))!v.call(T,M)&&M!==F&&V(T,M,{get:()=>w[M],enumerable:!(L=I(w,M))||L.enumerable});return T},p=(T)=>h(V({},"__esModule",{value:!0}),T),Mw={};ww(Mw,{Hooks:()=>k,Lexer:()=>N,Marked:()=>qw,Parser:()=>O,Renderer:()=>l,TextRenderer:()=>n,Tokenizer:()=>u,defaults:()=>K,getDefaults:()=>E,lexer:()=>JM,marked:()=>P,options:()=>SM,parse:()=>AM,parseInline:()=>YM,parser:()=>CM,setOptions:()=>KM,use:()=>VM,walkTokens:()=>WM}),Y.exports=p(Mw);function E(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var K=E();function A(T){K=T}var U={exec:()=>null};function G(T,w=""){let F=typeof T=="string"?T:T.source,L={replace:(M,b)=>{let y=typeof b=="string"?b:b.source;return y=y.replace(C.caret,"$1"),F=F.replace(M,y),L},getRegex:()=>new RegExp(F,w)};return L}var C={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:(T)=>new RegExp(`^( {0,3}${T})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:(T)=>new RegExp(`^ {0,${Math.min(3,T-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:(T)=>new RegExp(`^ {0,${Math.min(3,T-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:(T)=>new RegExp(`^ {0,${Math.min(3,T-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:(T)=>new RegExp(`^ {0,${Math.min(3,T-1)}}#`),htmlBeginRegex:(T)=>new RegExp(`^ {0,${Math.min(3,T-1)}}<(?:[a-z].*>|!--)`,"i")},z=/^(?:[ \t]*(?:\n|$))+/,x=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,X=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,J=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,m=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,d=/(?:[*+-]|\d{1,9}[.)])/,Tw=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_w=G(Tw).replace(/bull/g,d).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),kw=G(Tw).replace(/bull/g,d).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Fw=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,fw=/^[^\n]+/,Lw=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,cw=G(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Lw).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),uw=G(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,d).getRegex(),i="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",yw=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,lw=G("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",yw).replace("tag",i).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Sw=G(Fw).replace("hr",J).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",i).getRegex(),ow=G(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Sw).getRegex(),bw={blockquote:ow,code:x,def:cw,fences:X,heading:m,hr:J,html:lw,lheading:_w,list:uw,newline:z,paragraph:Sw,table:U,text:fw},Kw=G("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",J).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",i).getRegex(),sw={...bw,lheading:kw,table:Kw,paragraph:G(Fw).replace("hr",J).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Kw).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",i).getRegex()},pw={...bw,html:G(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",yw).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:U,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:G(Fw).replace("hr",J).replace("heading",` *#{1,6} *[^
]`).replace("lheading",_w).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},iw=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,aw=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Vw=/^( {2,}|\\)\n(?!\s*$)/,rw=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,a=/[\p{P}\p{S}]/u,gw=/[\s\p{P}\p{S}]/u,Ww=/[^\s\p{P}\p{S}]/u,tw=G(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,gw).getRegex(),Yw=/(?!~)[\p{P}\p{S}]/u,nw=/(?!~)[\s\p{P}\p{S}]/u,ew=/(?:[^\s\p{P}\p{S}]|~)/u,wM=/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,Aw=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,MM=G(Aw,"u").replace(/punct/g,a).getRegex(),TM=G(Aw,"u").replace(/punct/g,Yw).getRegex(),Cw="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",FM=G(Cw,"gu").replace(/notPunctSpace/g,Ww).replace(/punctSpace/g,gw).replace(/punct/g,a).getRegex(),LM=G(Cw,"gu").replace(/notPunctSpace/g,ew).replace(/punctSpace/g,nw).replace(/punct/g,Yw).getRegex(),yM=G("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Ww).replace(/punctSpace/g,gw).replace(/punct/g,a).getRegex(),bM=G(/\\(punct)/,"gu").replace(/punct/g,a).getRegex(),gM=G(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),HM=G(yw).replace("(?:-->|$)","-->").getRegex(),jM=G("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",HM).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),r=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,$M=G(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",r).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Jw=G(/^!?\[(label)\]\[(ref)\]/).replace("label",r).replace("ref",Lw).getRegex(),Qw=G(/^!?\[(ref)\](?:\[\])?/).replace("ref",Lw).getRegex(),DM=G("reflink|nolink(?!\\()","g").replace("reflink",Jw).replace("nolink",Qw).getRegex(),Hw={_backpedal:U,anyPunctuation:bM,autolink:gM,blockSkip:wM,br:Vw,code:aw,del:U,emStrongLDelim:MM,emStrongRDelimAst:FM,emStrongRDelimUnd:yM,escape:iw,link:$M,nolink:Qw,punctuation:tw,reflink:Jw,reflinkSearch:DM,tag:jM,text:rw,url:U},EM={...Hw,link:G(/^!?\[(label)\]\((.*?)\)/).replace("label",r).getRegex(),reflink:G(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",r).getRegex()},jw={...Hw,emStrongRDelimAst:LM,emStrongLDelim:TM,url:G(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},GM={...jw,br:G(Vw).replace("{2,}","*").getRegex(),text:G(jw.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},t={normal:bw,gfm:sw,pedantic:pw},f={normal:Hw,gfm:jw,breaks:GM,pedantic:EM},BM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Uw=(T)=>BM[T];function q(T,w){if(w){if(C.escapeTest.test(T))return T.replace(C.escapeReplace,Uw)}else if(C.escapeTestNoEncode.test(T))return T.replace(C.escapeReplaceNoEncode,Uw);return T}function Xw(T){try{T=encodeURI(T).replace(C.percentDecode,"%")}catch{return null}return T}function Zw(T,w){let F=T.replace(C.findPipe,(b,y,g)=>{let H=!1,j=y;for(;--j>=0&&g[j]==="\\";)H=!H;return H?"|":" |"}),L=F.split(C.splitPipe),M=0;if(L[0].trim()||L.shift(),L.length>0&&!L.at(-1)?.trim()&&L.pop(),w)if(L.length>w)L.splice(w);else for(;L.length<w;)L.push("");for(;M<L.length;M++)L[M]=L[M].trim().replace(C.slashPipe,"|");return L}function c(T,w,F){let L=T.length;if(L===0)return"";let M=0;for(;M<L;){let b=T.charAt(L-M-1);if(b===w&&!F)M++;else if(b!==w&&F)M++;else break}return T.slice(0,L-M)}function PM(T,w){if(T.indexOf(w[1])===-1)return-1;let F=0;for(let L=0;L<T.length;L++)if(T[L]==="\\")L++;else if(T[L]===w[0])F++;else if(T[L]===w[1]&&(F--,F<0))return L;return F>0?-2:-1}function zw(T,w,F,L,M){let b=w.href,y=w.title||null,g=T[1].replace(M.other.outputLinkReplace,"$1");L.state.inLink=!0;let H={type:T[0].charAt(0)==="!"?"image":"link",raw:F,href:b,title:y,text:g,tokens:L.inlineTokens(g)};return L.state.inLink=!1,H}function _M(T,w,F){let L=T.match(F.other.indentCodeCompensation);if(L===null)return w;let M=L[1];return w.split(`
`).map((b)=>{let y=b.match(F.other.beginningSpace);if(y===null)return b;let[g]=y;return g.length>=M.length?b.slice(M.length):b}).join(`
`)}var u=class{options;rules;lexer;constructor(T){this.options=T||K}space(T){let w=this.rules.block.newline.exec(T);if(w&&w[0].length>0)return{type:"space",raw:w[0]}}code(T){let w=this.rules.block.code.exec(T);if(w){let F=w[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:w[0],codeBlockStyle:"indented",text:this.options.pedantic?F:c(F,`
`)}}}fences(T){let w=this.rules.block.fences.exec(T);if(w){let F=w[0],L=_M(F,w[3]||"",this.rules);return{type:"code",raw:F,lang:w[2]?w[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):w[2],text:L}}}heading(T){let w=this.rules.block.heading.exec(T);if(w){let F=w[2].trim();if(this.rules.other.endingHash.test(F)){let L=c(F,"#");(this.options.pedantic||!L||this.rules.other.endingSpaceChar.test(L))&&(F=L.trim())}return{type:"heading",raw:w[0],depth:w[1].length,text:F,tokens:this.lexer.inline(F)}}}hr(T){let w=this.rules.block.hr.exec(T);if(w)return{type:"hr",raw:c(w[0],`
`)}}blockquote(T){let w=this.rules.block.blockquote.exec(T);if(w){let F=c(w[0],`
`).split(`
`),L="",M="",b=[];for(;F.length>0;){let y=!1,g=[],H;for(H=0;H<F.length;H++)if(this.rules.other.blockquoteStart.test(F[H]))g.push(F[H]),y=!0;else if(!y)g.push(F[H]);else break;F=F.slice(H);let j=g.join(`
`),B=j.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");L=L?`${L}
${j}`:j,M=M?`${M}
${B}`:B;let S=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(B,b,!0),this.lexer.state.top=S,F.length===0)break;let _=b.at(-1);if(_?.type==="code")break;if(_?.type==="blockquote"){let Q=_,W=Q.raw+`
`+F.join(`
`),Z=this.blockquote(W);b[b.length-1]=Z,L=L.substring(0,L.length-Q.raw.length)+Z.raw,M=M.substring(0,M.length-Q.text.length)+Z.text;break}else if(_?.type==="list"){let Q=_,W=Q.raw+`
`+F.join(`
`),Z=this.list(W);b[b.length-1]=Z,L=L.substring(0,L.length-_.raw.length)+Z.raw,M=M.substring(0,M.length-Q.raw.length)+Z.raw,F=W.substring(b.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:L,tokens:b,text:M}}}list(T){let w=this.rules.block.list.exec(T);if(w){let F=w[1].trim(),L=F.length>1,M={type:"list",raw:"",ordered:L,start:L?+F.slice(0,-1):"",loose:!1,items:[]};F=L?`\\d{1,9}\\${F.slice(-1)}`:`\\${F}`,this.options.pedantic&&(F=L?F:"[*+-]");let b=this.rules.other.listItemRegex(F),y=!1;for(;T;){let H=!1,j="",B="";if(!(w=b.exec(T))||this.rules.block.hr.test(T))break;j=w[0],T=T.substring(j.length);let S=w[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,($w)=>" ".repeat(3*$w.length)),_=T.split(`
`,1)[0],Q=!S.trim(),W=0;if(this.options.pedantic?(W=2,B=S.trimStart()):Q?W=w[1].length+1:(W=w[2].search(this.rules.other.nonSpaceChar),W=W>4?1:W,B=S.slice(W),W+=w[1].length),Q&&this.rules.other.blankLine.test(_)&&(j+=_+`
`,T=T.substring(_.length+1),H=!0),!H){let $w=this.rules.other.nextBulletRegex(W),Ow=this.rules.other.hrRegex(W),mw=this.rules.other.fencesBeginRegex(W),xw=this.rules.other.headingBeginRegex(W),QM=this.rules.other.htmlBeginRegex(W);for(;T;){let Dw=T.split(`
`,1)[0],o;if(_=Dw,this.options.pedantic?(_=_.replace(this.rules.other.listReplaceNesting,"  "),o=_):o=_.replace(this.rules.other.tabCharGlobal,"    "),mw.test(_)||xw.test(_)||QM.test(_)||$w.test(_)||Ow.test(_))break;if(o.search(this.rules.other.nonSpaceChar)>=W||!_.trim())B+=`
`+o.slice(W);else{if(Q||S.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||mw.test(S)||xw.test(S)||Ow.test(S))break;B+=`
`+_}!Q&&!_.trim()&&(Q=!0),j+=Dw+`
`,T=T.substring(Dw.length+1),S=o.slice(W)}}M.loose||(y?M.loose=!0:this.rules.other.doubleBlankLine.test(j)&&(y=!0));let Z=null,Nw;this.options.gfm&&(Z=this.rules.other.listIsTask.exec(B),Z&&(Nw=Z[0]!=="[ ] ",B=B.replace(this.rules.other.listReplaceTask,""))),M.items.push({type:"list_item",raw:j,task:!!Z,checked:Nw,loose:!1,text:B,tokens:[]}),M.raw+=j}let g=M.items.at(-1);if(g)g.raw=g.raw.trimEnd(),g.text=g.text.trimEnd();else return;M.raw=M.raw.trimEnd();for(let H=0;H<M.items.length;H++)if(this.lexer.state.top=!1,M.items[H].tokens=this.lexer.blockTokens(M.items[H].text,[]),!M.loose){let j=M.items[H].tokens.filter((S)=>S.type==="space"),B=j.length>0&&j.some((S)=>this.rules.other.anyLine.test(S.raw));M.loose=B}if(M.loose)for(let H=0;H<M.items.length;H++)M.items[H].loose=!0;return M}}html(T){let w=this.rules.block.html.exec(T);if(w)return{type:"html",block:!0,raw:w[0],pre:w[1]==="pre"||w[1]==="script"||w[1]==="style",text:w[0]}}def(T){let w=this.rules.block.def.exec(T);if(w){let F=w[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),L=w[2]?w[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",M=w[3]?w[3].substring(1,w[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):w[3];return{type:"def",tag:F,raw:w[0],href:L,title:M}}}table(T){let w=this.rules.block.table.exec(T);if(!w||!this.rules.other.tableDelimiter.test(w[2]))return;let F=Zw(w[1]),L=w[2].replace(this.rules.other.tableAlignChars,"").split("|"),M=w[3]?.trim()?w[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],b={type:"table",raw:w[0],header:[],align:[],rows:[]};if(F.length===L.length){for(let y of L)this.rules.other.tableAlignRight.test(y)?b.align.push("right"):this.rules.other.tableAlignCenter.test(y)?b.align.push("center"):this.rules.other.tableAlignLeft.test(y)?b.align.push("left"):b.align.push(null);for(let y=0;y<F.length;y++)b.header.push({text:F[y],tokens:this.lexer.inline(F[y]),header:!0,align:b.align[y]});for(let y of M)b.rows.push(Zw(y,b.header.length).map((g,H)=>({text:g,tokens:this.lexer.inline(g),header:!1,align:b.align[H]})));return b}}lheading(T){let w=this.rules.block.lheading.exec(T);if(w)return{type:"heading",raw:w[0],depth:w[2].charAt(0)==="="?1:2,text:w[1],tokens:this.lexer.inline(w[1])}}paragraph(T){let w=this.rules.block.paragraph.exec(T);if(w){let F=w[1].charAt(w[1].length-1)===`
`?w[1].slice(0,-1):w[1];return{type:"paragraph",raw:w[0],text:F,tokens:this.lexer.inline(F)}}}text(T){let w=this.rules.block.text.exec(T);if(w)return{type:"text",raw:w[0],text:w[0],tokens:this.lexer.inline(w[0])}}escape(T){let w=this.rules.inline.escape.exec(T);if(w)return{type:"escape",raw:w[0],text:w[1]}}tag(T){let w=this.rules.inline.tag.exec(T);if(w)return!this.lexer.state.inLink&&this.rules.other.startATag.test(w[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(w[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(w[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(w[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:w[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:w[0]}}link(T){let w=this.rules.inline.link.exec(T);if(w){let F=w[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(F)){if(!this.rules.other.endAngleBracket.test(F))return;let b=c(F.slice(0,-1),"\\");if((F.length-b.length)%2===0)return}else{let b=PM(w[2],"()");if(b===-2)return;if(b>-1){let y=(w[0].indexOf("!")===0?5:4)+w[1].length+b;w[2]=w[2].substring(0,b),w[0]=w[0].substring(0,y).trim(),w[3]=""}}let L=w[2],M="";if(this.options.pedantic){let b=this.rules.other.pedanticHrefTitle.exec(L);b&&(L=b[1],M=b[3])}else M=w[3]?w[3].slice(1,-1):"";return L=L.trim(),this.rules.other.startAngleBracket.test(L)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(F)?L=L.slice(1):L=L.slice(1,-1)),zw(w,{href:L&&L.replace(this.rules.inline.anyPunctuation,"$1"),title:M&&M.replace(this.rules.inline.anyPunctuation,"$1")},w[0],this.lexer,this.rules)}}reflink(T,w){let F;if((F=this.rules.inline.reflink.exec(T))||(F=this.rules.inline.nolink.exec(T))){let L=(F[2]||F[1]).replace(this.rules.other.multipleSpaceGlobal," "),M=w[L.toLowerCase()];if(!M){let b=F[0].charAt(0);return{type:"text",raw:b,text:b}}return zw(F,M,F[0],this.lexer,this.rules)}}emStrong(T,w,F=""){let L=this.rules.inline.emStrongLDelim.exec(T);if(!L||L[3]&&F.match(this.rules.other.unicodeAlphaNumeric))return;if(!(L[1]||L[2])||!F||this.rules.inline.punctuation.exec(F)){let M=[...L[0]].length-1,b,y,g=M,H=0,j=L[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(j.lastIndex=0,w=w.slice(-1*T.length+M);(L=j.exec(w))!=null;){if(b=L[1]||L[2]||L[3]||L[4]||L[5]||L[6],!b)continue;if(y=[...b].length,L[3]||L[4]){g+=y;continue}else if((L[5]||L[6])&&M%3&&!((M+y)%3)){H+=y;continue}if(g-=y,g>0)continue;y=Math.min(y,y+g+H);let B=[...L[0]][0].length,S=T.slice(0,M+L.index+B+y);if(Math.min(M,y)%2){let Q=S.slice(1,-1);return{type:"em",raw:S,text:Q,tokens:this.lexer.inlineTokens(Q)}}let _=S.slice(2,-2);return{type:"strong",raw:S,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(T){let w=this.rules.inline.code.exec(T);if(w){let F=w[2].replace(this.rules.other.newLineCharGlobal," "),L=this.rules.other.nonSpaceChar.test(F),M=this.rules.other.startingSpaceChar.test(F)&&this.rules.other.endingSpaceChar.test(F);return L&&M&&(F=F.substring(1,F.length-1)),{type:"codespan",raw:w[0],text:F}}}br(T){let w=this.rules.inline.br.exec(T);if(w)return{type:"br",raw:w[0]}}del(T){let w=this.rules.inline.del.exec(T);if(w)return{type:"del",raw:w[0],text:w[2],tokens:this.lexer.inlineTokens(w[2])}}autolink(T){let w=this.rules.inline.autolink.exec(T);if(w){let F,L;return w[2]==="@"?(F=w[1],L="mailto:"+F):(F=w[1],L=F),{type:"link",raw:w[0],text:F,href:L,tokens:[{type:"text",raw:F,text:F}]}}}url(T){let w;if(w=this.rules.inline.url.exec(T)){let F,L;if(w[2]==="@")F=w[0],L="mailto:"+F;else{let M;do M=w[0],w[0]=this.rules.inline._backpedal.exec(w[0])?.[0]??"";while(M!==w[0]);F=w[0],w[1]==="www."?L="http://"+w[0]:L=w[0]}return{type:"link",raw:w[0],text:F,href:L,tokens:[{type:"text",raw:F,text:F}]}}}inlineText(T){let w=this.rules.inline.text.exec(T);if(w){let F=this.lexer.state.inRawBlock;return{type:"text",raw:w[0],text:w[0],escaped:F}}}},N=class T{tokens;options;state;tokenizer;inlineQueue;constructor(w){this.tokens=[],this.tokens.links=Object.create(null),this.options=w||K,this.options.tokenizer=this.options.tokenizer||new u,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let F={other:C,block:t.normal,inline:f.normal};this.options.pedantic?(F.block=t.pedantic,F.inline=f.pedantic):this.options.gfm&&(F.block=t.gfm,this.options.breaks?F.inline=f.breaks:F.inline=f.gfm),this.tokenizer.rules=F}static get rules(){return{block:t,inline:f}}static lex(w,F){return new T(F).lex(w)}static lexInline(w,F){return new T(F).inlineTokens(w)}lex(w){w=w.replace(C.carriageReturn,`
`),this.blockTokens(w,this.tokens);for(let F=0;F<this.inlineQueue.length;F++){let L=this.inlineQueue[F];this.inlineTokens(L.src,L.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(w,F=[],L=!1){for(this.options.pedantic&&(w=w.replace(C.tabCharGlobal,"    ").replace(C.spaceLine,""));w;){let M;if(this.options.extensions?.block?.some((y)=>(M=y.call({lexer:this},w,F))?(w=w.substring(M.raw.length),F.push(M),!0):!1))continue;if(M=this.tokenizer.space(w)){w=w.substring(M.raw.length);let y=F.at(-1);M.raw.length===1&&y!==void 0?y.raw+=`
`:F.push(M);continue}if(M=this.tokenizer.code(w)){w=w.substring(M.raw.length);let y=F.at(-1);y?.type==="paragraph"||y?.type==="text"?(y.raw+=(y.raw.endsWith(`
`)?"":`
`)+M.raw,y.text+=`
`+M.text,this.inlineQueue.at(-1).src=y.text):F.push(M);continue}if(M=this.tokenizer.fences(w)){w=w.substring(M.raw.length),F.push(M);continue}if(M=this.tokenizer.heading(w)){w=w.substring(M.raw.length),F.push(M);continue}if(M=this.tokenizer.hr(w)){w=w.substring(M.raw.length),F.push(M);continue}if(M=this.tokenizer.blockquote(w)){w=w.substring(M.raw.length),F.push(M);continue}if(M=this.tokenizer.list(w)){w=w.substring(M.raw.length),F.push(M);continue}if(M=this.tokenizer.html(w)){w=w.substring(M.raw.length),F.push(M);continue}if(M=this.tokenizer.def(w)){w=w.substring(M.raw.length);let y=F.at(-1);y?.type==="paragraph"||y?.type==="text"?(y.raw+=(y.raw.endsWith(`
`)?"":`
`)+M.raw,y.text+=`
`+M.raw,this.inlineQueue.at(-1).src=y.text):this.tokens.links[M.tag]||(this.tokens.links[M.tag]={href:M.href,title:M.title},F.push(M));continue}if(M=this.tokenizer.table(w)){w=w.substring(M.raw.length),F.push(M);continue}if(M=this.tokenizer.lheading(w)){w=w.substring(M.raw.length),F.push(M);continue}let b=w;if(this.options.extensions?.startBlock){let y=1/0,g=w.slice(1),H;this.options.extensions.startBlock.forEach((j)=>{H=j.call({lexer:this},g),typeof H=="number"&&H>=0&&(y=Math.min(y,H))}),y<1/0&&y>=0&&(b=w.substring(0,y+1))}if(this.state.top&&(M=this.tokenizer.paragraph(b))){let y=F.at(-1);L&&y?.type==="paragraph"?(y.raw+=(y.raw.endsWith(`
`)?"":`
`)+M.raw,y.text+=`
`+M.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=y.text):F.push(M),L=b.length!==w.length,w=w.substring(M.raw.length);continue}if(M=this.tokenizer.text(w)){w=w.substring(M.raw.length);let y=F.at(-1);y?.type==="text"?(y.raw+=(y.raw.endsWith(`
`)?"":`
`)+M.raw,y.text+=`
`+M.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=y.text):F.push(M);continue}if(w){let y="Infinite loop on byte: "+w.charCodeAt(0);if(this.options.silent){console.error(y);break}else throw new Error(y)}}return this.state.top=!0,F}inline(w,F=[]){return this.inlineQueue.push({src:w,tokens:F}),F}inlineTokens(w,F=[]){let L=w,M=null;if(this.tokens.links){let g=Object.keys(this.tokens.links);if(g.length>0)for(;(M=this.tokenizer.rules.inline.reflinkSearch.exec(L))!=null;)g.includes(M[0].slice(M[0].lastIndexOf("[")+1,-1))&&(L=L.slice(0,M.index)+"["+"a".repeat(M[0].length-2)+"]"+L.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(M=this.tokenizer.rules.inline.anyPunctuation.exec(L))!=null;)L=L.slice(0,M.index)+"++"+L.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(M=this.tokenizer.rules.inline.blockSkip.exec(L))!=null;)L=L.slice(0,M.index)+"["+"a".repeat(M[0].length-2)+"]"+L.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);L=this.options.hooks?.emStrongMask?.call({lexer:this},L)??L;let b=!1,y="";for(;w;){b||(y=""),b=!1;let g;if(this.options.extensions?.inline?.some((j)=>(g=j.call({lexer:this},w,F))?(w=w.substring(g.raw.length),F.push(g),!0):!1))continue;if(g=this.tokenizer.escape(w)){w=w.substring(g.raw.length),F.push(g);continue}if(g=this.tokenizer.tag(w)){w=w.substring(g.raw.length),F.push(g);continue}if(g=this.tokenizer.link(w)){w=w.substring(g.raw.length),F.push(g);continue}if(g=this.tokenizer.reflink(w,this.tokens.links)){w=w.substring(g.raw.length);let j=F.at(-1);g.type==="text"&&j?.type==="text"?(j.raw+=g.raw,j.text+=g.text):F.push(g);continue}if(g=this.tokenizer.emStrong(w,L,y)){w=w.substring(g.raw.length),F.push(g);continue}if(g=this.tokenizer.codespan(w)){w=w.substring(g.raw.length),F.push(g);continue}if(g=this.tokenizer.br(w)){w=w.substring(g.raw.length),F.push(g);continue}if(g=this.tokenizer.del(w)){w=w.substring(g.raw.length),F.push(g);continue}if(g=this.tokenizer.autolink(w)){w=w.substring(g.raw.length),F.push(g);continue}if(!this.state.inLink&&(g=this.tokenizer.url(w))){w=w.substring(g.raw.length),F.push(g);continue}let H=w;if(this.options.extensions?.startInline){let j=1/0,B=w.slice(1),S;this.options.extensions.startInline.forEach((_)=>{S=_.call({lexer:this},B),typeof S=="number"&&S>=0&&(j=Math.min(j,S))}),j<1/0&&j>=0&&(H=w.substring(0,j+1))}if(g=this.tokenizer.inlineText(H)){w=w.substring(g.raw.length),g.raw.slice(-1)!=="_"&&(y=g.raw.slice(-1)),b=!0;let j=F.at(-1);j?.type==="text"?(j.raw+=g.raw,j.text+=g.text):F.push(g);continue}if(w){let j="Infinite loop on byte: "+w.charCodeAt(0);if(this.options.silent){console.error(j);break}else throw new Error(j)}}return F}},l=class{options;parser;constructor(T){this.options=T||K}space(T){return""}code({text:T,lang:w,escaped:F}){let L=(w||"").match(C.notSpaceStart)?.[0],M=T.replace(C.endingNewline,"")+`
`;return L?'<pre><code class="language-'+q(L)+'">'+(F?M:q(M,!0))+`</code></pre>
`:"<pre><code>"+(F?M:q(M,!0))+`</code></pre>
`}blockquote({tokens:T}){return`<blockquote>
${this.parser.parse(T)}</blockquote>
`}html({text:T}){return T}def(T){return""}heading({tokens:T,depth:w}){return`<h${w}>${this.parser.parseInline(T)}</h${w}>
`}hr(T){return`<hr>
`}list(T){let{ordered:w,start:F}=T,L="";for(let y=0;y<T.items.length;y++){let g=T.items[y];L+=this.listitem(g)}let M=w?"ol":"ul",b=w&&F!==1?' start="'+F+'"':"";return"<"+M+b+`>
`+L+"</"+M+`>
`}listitem(T){let w="";if(T.task){let F=this.checkbox({checked:!!T.checked});T.loose?T.tokens[0]?.type==="paragraph"?(T.tokens[0].text=F+" "+T.tokens[0].text,T.tokens[0].tokens&&T.tokens[0].tokens.length>0&&T.tokens[0].tokens[0].type==="text"&&(T.tokens[0].tokens[0].text=F+" "+q(T.tokens[0].tokens[0].text),T.tokens[0].tokens[0].escaped=!0)):T.tokens.unshift({type:"text",raw:F+" ",text:F+" ",escaped:!0}):w+=F+" "}return w+=this.parser.parse(T.tokens,!!T.loose),`<li>${w}</li>
`}checkbox({checked:T}){return"<input "+(T?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:T}){return`<p>${this.parser.parseInline(T)}</p>
`}table(T){let w="",F="";for(let M=0;M<T.header.length;M++)F+=this.tablecell(T.header[M]);w+=this.tablerow({text:F});let L="";for(let M=0;M<T.rows.length;M++){let b=T.rows[M];F="";for(let y=0;y<b.length;y++)F+=this.tablecell(b[y]);L+=this.tablerow({text:F})}return L&&(L=`<tbody>${L}</tbody>`),`<table>
<thead>
`+w+`</thead>
`+L+`</table>
`}tablerow({text:T}){return`<tr>
${T}</tr>
`}tablecell(T){let w=this.parser.parseInline(T.tokens),F=T.header?"th":"td";return(T.align?`<${F} align="${T.align}">`:`<${F}>`)+w+`</${F}>
`}strong({tokens:T}){return`<strong>${this.parser.parseInline(T)}</strong>`}em({tokens:T}){return`<em>${this.parser.parseInline(T)}</em>`}codespan({text:T}){return`<code>${q(T,!0)}</code>`}br(T){return"<br>"}del({tokens:T}){return`<del>${this.parser.parseInline(T)}</del>`}link({href:T,title:w,tokens:F}){let L=this.parser.parseInline(F),M=Xw(T);if(M===null)return L;T=M;let b='<a href="'+T+'"';return w&&(b+=' title="'+q(w)+'"'),b+=">"+L+"</a>",b}image({href:T,title:w,text:F,tokens:L}){L&&(F=this.parser.parseInline(L,this.parser.textRenderer));let M=Xw(T);if(M===null)return q(F);T=M;let b=`<img src="${T}" alt="${F}"`;return w&&(b+=` title="${q(w)}"`),b+=">",b}text(T){return"tokens"in T&&T.tokens?this.parser.parseInline(T.tokens):("escaped"in T)&&T.escaped?T.text:q(T.text)}},n=class{strong({text:T}){return T}em({text:T}){return T}codespan({text:T}){return T}del({text:T}){return T}html({text:T}){return T}text({text:T}){return T}link({text:T}){return""+T}image({text:T}){return""+T}br(){return""}},O=class T{options;renderer;textRenderer;constructor(w){this.options=w||K,this.options.renderer=this.options.renderer||new l,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new n}static parse(w,F){return new T(F).parse(w)}static parseInline(w,F){return new T(F).parseInline(w)}parse(w,F=!0){let L="";for(let M=0;M<w.length;M++){let b=w[M];if(this.options.extensions?.renderers?.[b.type]){let g=b,H=this.options.extensions.renderers[g.type].call({parser:this},g);if(H!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(g.type)){L+=H||"";continue}}let y=b;switch(y.type){case"space":{L+=this.renderer.space(y);continue}case"hr":{L+=this.renderer.hr(y);continue}case"heading":{L+=this.renderer.heading(y);continue}case"code":{L+=this.renderer.code(y);continue}case"table":{L+=this.renderer.table(y);continue}case"blockquote":{L+=this.renderer.blockquote(y);continue}case"list":{L+=this.renderer.list(y);continue}case"html":{L+=this.renderer.html(y);continue}case"def":{L+=this.renderer.def(y);continue}case"paragraph":{L+=this.renderer.paragraph(y);continue}case"text":{let g=y,H=this.renderer.text(g);for(;M+1<w.length&&w[M+1].type==="text";)g=w[++M],H+=`
`+this.renderer.text(g);F?L+=this.renderer.paragraph({type:"paragraph",raw:H,text:H,tokens:[{type:"text",raw:H,text:H,escaped:!0}]}):L+=H;continue}default:{let g='Token with "'+y.type+'" type was not found.';if(this.options.silent)return console.error(g),"";throw new Error(g)}}}return L}parseInline(w,F=this.renderer){let L="";for(let M=0;M<w.length;M++){let b=w[M];if(this.options.extensions?.renderers?.[b.type]){let g=this.options.extensions.renderers[b.type].call({parser:this},b);if(g!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(b.type)){L+=g||"";continue}}let y=b;switch(y.type){case"escape":{L+=F.text(y);break}case"html":{L+=F.html(y);break}case"link":{L+=F.link(y);break}case"image":{L+=F.image(y);break}case"strong":{L+=F.strong(y);break}case"em":{L+=F.em(y);break}case"codespan":{L+=F.codespan(y);break}case"br":{L+=F.br(y);break}case"del":{L+=F.del(y);break}case"text":{L+=F.text(y);break}default:{let g='Token with "'+y.type+'" type was not found.';if(this.options.silent)return console.error(g),"";throw new Error(g)}}}return L}},k=class{options;block;constructor(T){this.options=T||K}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(T){return T}postprocess(T){return T}processAllTokens(T){return T}emStrongMask(T){return T}provideLexer(){return this.block?N.lex:N.lexInline}provideParser(){return this.block?O.parse:O.parseInline}},qw=class{defaults=E();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=O;Renderer=l;TextRenderer=n;Lexer=N;Tokenizer=u;Hooks=k;constructor(...T){this.use(...T)}walkTokens(T,w){let F=[];for(let L of T)switch(F=F.concat(w.call(this,L)),L.type){case"table":{let M=L;for(let b of M.header)F=F.concat(this.walkTokens(b.tokens,w));for(let b of M.rows)for(let y of b)F=F.concat(this.walkTokens(y.tokens,w));break}case"list":{let M=L;F=F.concat(this.walkTokens(M.items,w));break}default:{let M=L;this.defaults.extensions?.childTokens?.[M.type]?this.defaults.extensions.childTokens[M.type].forEach((b)=>{let y=M[b].flat(1/0);F=F.concat(this.walkTokens(y,w))}):M.tokens&&(F=F.concat(this.walkTokens(M.tokens,w)))}}return F}use(...T){let w=this.defaults.extensions||{renderers:{},childTokens:{}};return T.forEach((F)=>{let L={...F};if(L.async=this.defaults.async||L.async||!1,F.extensions&&(F.extensions.forEach((M)=>{if(!M.name)throw new Error("extension name required");if("renderer"in M){let b=w.renderers[M.name];b?w.renderers[M.name]=function(...y){let g=M.renderer.apply(this,y);return g===!1&&(g=b.apply(this,y)),g}:w.renderers[M.name]=M.renderer}if("tokenizer"in M){if(!M.level||M.level!=="block"&&M.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let b=w[M.level];b?b.unshift(M.tokenizer):w[M.level]=[M.tokenizer],M.start&&(M.level==="block"?w.startBlock?w.startBlock.push(M.start):w.startBlock=[M.start]:M.level==="inline"&&(w.startInline?w.startInline.push(M.start):w.startInline=[M.start]))}"childTokens"in M&&M.childTokens&&(w.childTokens[M.name]=M.childTokens)}),L.extensions=w),F.renderer){let M=this.defaults.renderer||new l(this.defaults);for(let b in F.renderer){if(!(b in M))throw new Error(`renderer '${b}' does not exist`);if(["options","parser"].includes(b))continue;let y=b,g=F.renderer[y],H=M[y];M[y]=(...j)=>{let B=g.apply(M,j);return B===!1&&(B=H.apply(M,j)),B||""}}L.renderer=M}if(F.tokenizer){let M=this.defaults.tokenizer||new u(this.defaults);for(let b in F.tokenizer){if(!(b in M))throw new Error(`tokenizer '${b}' does not exist`);if(["options","rules","lexer"].includes(b))continue;let y=b,g=F.tokenizer[y],H=M[y];M[y]=(...j)=>{let B=g.apply(M,j);return B===!1&&(B=H.apply(M,j)),B}}L.tokenizer=M}if(F.hooks){let M=this.defaults.hooks||new k;for(let b in F.hooks){if(!(b in M))throw new Error(`hook '${b}' does not exist`);if(["options","block"].includes(b))continue;let y=b,g=F.hooks[y],H=M[y];k.passThroughHooks.has(b)?M[y]=(j)=>{if(this.defaults.async&&k.passThroughHooksRespectAsync.has(b))return Promise.resolve(g.call(M,j)).then((S)=>H.call(M,S));let B=g.call(M,j);return H.call(M,B)}:M[y]=(...j)=>{let B=g.apply(M,j);return B===!1&&(B=H.apply(M,j)),B}}L.hooks=M}if(F.walkTokens){let M=this.defaults.walkTokens,b=F.walkTokens;L.walkTokens=function(y){let g=[];return g.push(b.call(this,y)),M&&(g=g.concat(M.call(this,y))),g}}this.defaults={...this.defaults,...L}}),this}setOptions(T){return this.defaults={...this.defaults,...T},this}lexer(T,w){return N.lex(T,w??this.defaults)}parser(T,w){return O.parse(T,w??this.defaults)}parseMarkdown(T){return(w,F)=>{let L={...F},M={...this.defaults,...L},b=this.onError(!!M.silent,!!M.async);if(this.defaults.async===!0&&L.async===!1)return b(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof w>"u"||w===null)return b(new Error("marked(): input parameter is undefined or null"));if(typeof w!="string")return b(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(w)+", string expected"));M.hooks&&(M.hooks.options=M,M.hooks.block=T);let y=M.hooks?M.hooks.provideLexer():T?N.lex:N.lexInline,g=M.hooks?M.hooks.provideParser():T?O.parse:O.parseInline;if(M.async)return Promise.resolve(M.hooks?M.hooks.preprocess(w):w).then((H)=>y(H,M)).then((H)=>M.hooks?M.hooks.processAllTokens(H):H).then((H)=>M.walkTokens?Promise.all(this.walkTokens(H,M.walkTokens)).then(()=>H):H).then((H)=>g(H,M)).then((H)=>M.hooks?M.hooks.postprocess(H):H).catch(b);try{M.hooks&&(w=M.hooks.preprocess(w));let H=y(w,M);M.hooks&&(H=M.hooks.processAllTokens(H)),M.walkTokens&&this.walkTokens(H,M.walkTokens);let j=g(H,M);return M.hooks&&(j=M.hooks.postprocess(j)),j}catch(H){return b(H)}}}onError(T,w){return(F)=>{if(F.message+=`
Please report this to https://github.com/markedjs/marked.`,T){let L="<p>An error occurred:</p><pre>"+q(F.message+"",!0)+"</pre>";return w?Promise.resolve(L):L}if(w)return Promise.reject(F);throw F}}},R=new qw;function P(T,w){return R.parse(T,w)}P.options=P.setOptions=function(T){return R.setOptions(T),P.defaults=R.defaults,A(P.defaults),P},P.getDefaults=E,P.defaults=K,P.use=function(...T){return R.use(...T),P.defaults=R.defaults,A(P.defaults),P},P.walkTokens=function(T,w){return R.walkTokens(T,w)},P.parseInline=R.parseInline,P.Parser=O,P.parser=O.parse,P.Renderer=l,P.TextRenderer=n,P.Lexer=N,P.lexer=N.lex,P.Tokenizer=u,P.Hooks=k,P.parse=P;var{options:SM,setOptions:KM,use:VM,walkTokens:WM,parseInline:YM}=P,AM=P,CM=O.parse,JM=N.lex;if(D!=$)Y.exports=$;return Y.exports})});function Iw($,D){if(!$||!("querySelectorAll"in $))return 0;let V=typeof D==="string"?(E)=>D+E.replace(/^\/+/,""):(E,K,A)=>D(E,K,A),I=/^(?:[a-zA-Z][a-zA-Z0-9+.-]*:|\/\/)/,e=/^(?:#|mailto:|javascript:)/i,v=0;function ww(E){return!E||I.test(E)||e.test(E)}function h(E,K,A){if(ww(E))return null;let U=V(E,K,A);if(!U||U===E)return null;return U}function p(E,K,A){let U=K.toLowerCase();if(U==="srcset"){let x=A.split(",").map((X)=>X.trim()).map((X)=>{let J=X.indexOf(" "),m=J===-1?X:X.slice(0,J),d=J===-1?"":X.slice(J);return(h(m,E,K)??m)+d}).join(", ");if(x!==A)E.setAttribute(K,x),v++;return}if(U==="style"){let z=A,x=/url\(\s*(['"]?)([^'")]+)\1\s*\)/g;if(z=z.replace(x,(X,J,m)=>{let d=h(m,E,K);return d?`url(${J}${d}${J})`:X}),z!==A)E.setAttribute(K,z),v++;return}if(E.tagName.toLowerCase()==="meta"&&U==="content"){let z=A.replace(/(;\s*url=)([^;]+)/i,(x,X,J)=>{let m=h(J.trim(),E,K);return m?X+m:x});if(z!==A)E.setAttribute(K,z),v++;return}let G=A.trim(),C=h(G,E,K);if(C)E.setAttribute(K,C),v++}if(Array.from($.querySelectorAll("*")).forEach((E)=>{Array.from(E.attributes).forEach((A)=>{p(E,A.name,A.value)})}),$.attributes){let E=$;Array.from(E.attributes||[]).forEach((A)=>p(E,A.name,A.value))}return v}async function s($){try{return{data:await $,error:null}}catch(D){return{data:null,error:D}}}var Rw=qM(vw(),1),Bw="https://raw.githubusercontent.com/dragmine149/test_website/refs/heads";class Pw{tests;marked;title;constructor(){this.tests=new Map,this.tests.set("root",{readme:"",document:new Map().set("root",document.body.innerHTML)}),this.loadTestList(),this.marked=new Rw.Marked,this.title=document.getElementById("title"),addEventListener("test",($)=>this.loadTest($.detail))}setBrowserDetails($){let D=new URL(location.toString());D.searchParams.set("test",$),history.pushState(void 0,"",D),this.title.textContent=`Drag's Test Suite -> ${$||"Main Page"}`}endTest(){document.body.innerHTML=this.tests.get("root").document.get("root"),this.setBrowserDetails("")}async getTestFromGithub($){let D=await s(fetch(`${Bw}/listings/${$}.json`));if(D.error)return alert("That test does not exist. Please try a different test."),null;if(!D.data.ok)return alert("Network request whilst trying to get test. Please see the console for more information"),console.error(D.data),null;let Y=await s(D.data.json());if(Y.error)return alert("Failed to parse json response. Malformed json?. Please see the console for more information"),console.error(Y),null;return Y.data}async getFileFromGithub($,D){let Y=await s(fetch(`${Bw}/main/${$}/${D}`));if(Y.error)return console.warn("That file does not exist, returning blank to prevent failure"),"";if(!Y.data.ok)return console.warn("Network request whilst trying to get test. Please see the console for more information"),console.warn(Y.data),"";let V=await s(Y.data.text());if(V.error)return console.warn("Failed to get text object somehow..."),console.error(V),"";return V.data}async loadTestList(){let $=await this.getTestFromGithub("root");if($==null)return;Object.keys($.dirs).forEach(async(D)=>{if(D.startsWith(".")||D=="Scripts")return;let Y=await this.getFileFromGithub(D,"readme.md"),V=document.createElement("button");V.classList.add("bg-zinc-500","text-center"),V.onclick=()=>dispatchEvent(new CustomEvent("test",{detail:D})),V.innerHTML=await this.marked.parse(Y),document.getElementById("test_website_results")?.appendChild(V)})}async loadTest($){console.log(`Attempting to load ${$}`),this.setBrowserDetails($);let D=await this.getFileFromGithub($,"index.html"),V=new DOMParser().parseFromString(D,"text/html");Iw(V.body,Bw),document.body.innerHTML=V.body.innerHTML,this.tests.set($,{document:new Map().set("index.html",V.body.innerHTML),readme:""})}}var hw;addEventListener("DOMContentLoaded",()=>{hw=new Pw,globalThis.debug={router:hw}});

//# debugId=D1ACBAF45E524FFA64756E2164756E21
//# sourceMappingURL=index.js.map
